# Sonnet è‡ªåŠ¨ç¿»è¯‘è„šæœ¬ä½¿ç”¨æŒ‡å—

è¿™ä¸ª Python è„šæœ¬ä½¿ç”¨ Claude Sonnet æ¨¡å‹è‡ªåŠ¨ç¿»è¯‘ zh/ ç›®å½•ä¸‹çš„æ‰€æœ‰ MDX æ–‡ä»¶ã€‚

## å®‰è£…ä¾èµ–

```bash
# å®‰è£… Anthropic Python SDK
pip install anthropic
```

## è®¾ç½® API Key

### æ–¹æ³•1: ç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰
```bash
export ANTHROPIC_API_KEY="your-anthropic-api-key"
```

### æ–¹æ³•2: æ·»åŠ åˆ° shell é…ç½®æ–‡ä»¶
```bash
# æ·»åŠ åˆ° ~/.bashrc æˆ– ~/.zshrc
echo 'export ANTHROPIC_API_KEY="your-anthropic-api-key"' >> ~/.bashrc
source ~/.bashrc
```

## ä½¿ç”¨æ–¹æ³•

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
cd /Users/wanghonghao/Documents/GitHub/docs
python scripts/sonnet_translate.py
```

## è„šæœ¬åŠŸèƒ½

### æ™ºèƒ½æ£€æµ‹
- è‡ªåŠ¨æ£€æµ‹å“ªäº›æ–‡ä»¶éœ€è¦ç¿»è¯‘ï¼ˆåŒ…å«è‹±æ–‡æˆ–ä¸­è‹±æ··æ‚ï¼‰
- è·³è¿‡å·²ç»æ˜¯çº¯ä¸­æ–‡çš„æ–‡ä»¶ï¼Œæé«˜æ•ˆç‡

### å®‰å…¨å¤‡ä»½
- è‡ªåŠ¨å¤‡ä»½åŸæ–‡ä»¶ï¼ˆæ·»åŠ  .backup åç¼€ï¼‰
- ç¿»è¯‘å¤±è´¥æ—¶ä¸ä¼šè¦†ç›–åŸæ–‡ä»¶

### æ‰¹é‡å¤„ç†
- æ”¯æŒé€’å½’å¤„ç†å­ç›®å½•
- æ™ºèƒ½é”™è¯¯é‡è¯•æœºåˆ¶
- è¯·æ±‚é¢‘ç‡æ§åˆ¶ï¼Œé¿å… API é™åˆ¶

### ç¿»è¯‘è´¨é‡
- ä½¿ç”¨ Claude 3.5 Sonnet æ¨¡å‹
- ä¸“ä¸šçš„æŠ€æœ¯æ–‡æ¡£ç¿»è¯‘æç¤ºè¯
- ä¿æŒ MDX æ ¼å¼å®Œæ•´
- ä¿ç•™å“ç‰Œåç§°å’Œä¸“ä¸šæœ¯è¯­

## è„šæœ¬é…ç½®

å¯ä»¥åœ¨è„šæœ¬é¡¶éƒ¨è°ƒæ•´ä»¥ä¸‹å‚æ•°ï¼š

```python
MAX_RETRIES = 3      # æœ€å¤§é‡è¯•æ¬¡æ•°
RETRY_DELAY = 2      # é‡è¯•å»¶è¿Ÿï¼ˆç§’ï¼‰
BATCH_SIZE = 5       # æ¯æ‰¹å¤„ç†æ–‡ä»¶æ•°
REQUEST_DELAY = 1    # è¯·æ±‚é—´éš”ï¼ˆç§’ï¼‰
```

## è¿è¡Œç¤ºä¾‹

```bash
$ python scripts/sonnet_translate.py

âš ï¸  è­¦å‘Šï¼šæ­¤æ“ä½œå°†ä¼šè¦†ç›– zh/ ç›®å½•ä¸‹çš„æ‰€æœ‰ MDX æ–‡ä»¶
   åŸæ–‡ä»¶å°†è¢«å¤‡ä»½ä¸º .backup åç¼€
æ˜¯å¦ç»§ç»­ï¼Ÿ(y/N): y

ğŸš€ å¼€å§‹ä½¿ç”¨ Claude Sonnet ç¿»è¯‘ zh/ ç›®å½•ä¸‹çš„ MDX æ–‡ä»¶
============================================================
ğŸ“‹ æ‰¾åˆ° 129 ä¸ª MDX æ–‡ä»¶

è¿›åº¦: 1/129
å¤„ç†æ–‡ä»¶: zh/index.mdx
  æ­£åœ¨ç¿»è¯‘... (å°è¯• 1/3)
  âœ… ç¿»è¯‘å®Œæˆ (å¤‡ä»½: zh/index.mdx.backup)

è¿›åº¦: 2/129
å¤„ç†æ–‡ä»¶: zh/quickstart.mdx
  æ–‡ä»¶å·²æ˜¯çº¯ä¸­æ–‡ï¼Œè·³è¿‡

...

============================================================
ğŸ‰ ç¿»è¯‘ä»»åŠ¡å®Œæˆï¼
ğŸ“Š ç»Ÿè®¡ä¿¡æ¯:
  - æ€»æ–‡ä»¶æ•°: 129
  - æˆåŠŸç¿»è¯‘: 95
  - è·³è¿‡æ–‡ä»¶: 30
  - é”™è¯¯æ–‡ä»¶: 4
  - æ€»è€—æ—¶: 1230.5 ç§’

âœ¨ æ‰€æœ‰ç¿»è¯‘æ–‡ä»¶éƒ½å·²å¤‡ä»½ï¼ˆ.backup åç¼€ï¼‰
ğŸ” å»ºè®®æ£€æŸ¥å‡ ä¸ªå…³é”®æ–‡ä»¶ç¡®è®¤ç¿»è¯‘è´¨é‡
```

## é”™è¯¯å¤„ç†

### å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

1. **API Key é”™è¯¯**
   ```
   âŒ é”™è¯¯ï¼šè¯·è®¾ç½® ANTHROPIC_API_KEY ç¯å¢ƒå˜é‡
   ```
   è§£å†³ï¼šæ£€æŸ¥å¹¶é‡æ–°è®¾ç½® API Key

2. **ç½‘ç»œè¿æ¥é”™è¯¯**
   ```
   ç¿»è¯‘å¤±è´¥ (å°è¯• 1/3): Connection error
   ```
   è§£å†³ï¼šè„šæœ¬ä¼šè‡ªåŠ¨é‡è¯•ï¼Œæ£€æŸ¥ç½‘ç»œè¿æ¥

3. **API é¢‘ç‡é™åˆ¶**
   ```
   ç¿»è¯‘å¤±è´¥ (å°è¯• 1/3): Rate limit exceeded
   ```
   è§£å†³ï¼šè„šæœ¬ä¼šè‡ªåŠ¨å»¶è¿Ÿé‡è¯•ï¼Œæˆ–å¢åŠ  REQUEST_DELAY å‚æ•°

## è´¨é‡æ£€æŸ¥

ç¿»è¯‘å®Œæˆåï¼Œå»ºè®®æ£€æŸ¥ä»¥ä¸‹æ–‡ä»¶ï¼š

```bash
# æ£€æŸ¥å…³é”®é¡µé¢
cat zh/index.mdx
cat zh/help-center/getting-started/598-what-is-buffer-and-where-can-i-watch-a-demo.mdx
cat zh/help-center/publishing/656-saving-and-scheduling-draft-posts.mdx

# æ£€æŸ¥æ˜¯å¦è¿˜æœ‰ä¸­è‹±æ··æ‚
grep -r "æ‚¨ can\|æ‚¨ will\|æˆ‘ä»¬ can\|è¿™ä¸ª is" zh/ | head -10
```

## å›æ»šæ“ä½œ

å¦‚æœç¿»è¯‘ç»“æœä¸æ»¡æ„ï¼Œå¯ä»¥å¿«é€Ÿå›æ»šï¼š

```bash
# æ¢å¤æ‰€æœ‰å¤‡ä»½æ–‡ä»¶
find zh/ -name "*.backup" | while read backup; do
    original="${backup%.backup}"
    mv "$backup" "$original"
    echo "æ¢å¤: $original"
done

# æˆ–è€…åªæ¢å¤ç‰¹å®šæ–‡ä»¶
mv zh/index.mdx.backup zh/index.mdx
```

## æ¸…ç†å¤‡ä»½æ–‡ä»¶

ç¿»è¯‘æ»¡æ„åï¼Œæ¸…ç†å¤‡ä»½æ–‡ä»¶ï¼š

```bash
# åˆ é™¤æ‰€æœ‰å¤‡ä»½æ–‡ä»¶
find zh/ -name "*.backup" -delete

# ç»Ÿè®¡æ¸…ç†çš„æ–‡ä»¶æ•°
find zh/ -name "*.backup" | wc -l
```

## æ³¨æ„äº‹é¡¹

1. **API è´¹ç”¨**ï¼šä½¿ç”¨ Claude API ä¼šäº§ç”Ÿè´¹ç”¨ï¼Œå¤§çº¦ 129 ä¸ªæ–‡ä»¶é¢„è®¡è´¹ç”¨ $2-5
2. **ç½‘ç»œç¨³å®š**ï¼šç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®šï¼Œç¿»è¯‘è¿‡ç¨‹å¯èƒ½éœ€è¦ 20-30 åˆ†é’Ÿ
3. **å¤‡ä»½é‡è¦**ï¼šè„šæœ¬ä¼šè‡ªåŠ¨å¤‡ä»½ï¼Œä½†å»ºè®®è¿è¡Œå‰æ‰‹åŠ¨å¤‡ä»½æ•´ä¸ª zh/ ç›®å½•
4. **è´¨é‡æ£€æŸ¥**ï¼šç¿»è¯‘å®ŒæˆååŠ¡å¿…æ£€æŸ¥å…³é”®é¡µé¢çš„ç¿»è¯‘è´¨é‡

## é«˜çº§ç”¨æ³•

### åªç¿»è¯‘ç‰¹å®šæ–‡ä»¶
```python
# ä¿®æ”¹è„šæœ¬ä¸­çš„ get_mdx_files æ–¹æ³•
def get_mdx_files(self) -> List[str]:
    # åªç¿»è¯‘ç‰¹å®šæ¨¡å¼çš„æ–‡ä»¶
    return [
        "zh/help-center/publishing/656-saving-and-scheduling-draft-posts.mdx",
        "zh/help-center/analytics/523-linkedin-metric-descriptions.mdx"
    ]
```

### è‡ªå®šä¹‰ç¿»è¯‘æç¤ºè¯
ä¿®æ”¹ `create_translation_prompt` æ–¹æ³•ä¸­çš„æç¤ºè¯æ¥è°ƒæ•´ç¿»è¯‘é£æ ¼ã€‚
